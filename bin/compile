#!/bin/sh

indent() {
  sed -u 's/^/       /'
}

#echo "-----> Found a hello.txt"

# if hello.txt is empty, abort the build
#if [ ! -s $1/hello.txt ]; then
#  echo "hello.txt was empty" | indent
#  exit 1
#fi

# replace hello with goodbye in a new file
#cat $1/hello.txt | sed -e "s/[Hh]ello/Goodbye/g" > $1/goodbye.txt

### Configure directories

BUILD_DIR=${1:-}
CACHE_DIR=${2:-}
ENV_DIR=${3:-}
BP_DIR=$(cd $(dirname ${0:-}); cd ..; pwd)

echo "BUILD_DIR - $BUILD_DIR"
echo "CACHE_DIR - $CACHE_DIR"
echo "ENV_DIR - $ENV_DIR"

    echo "Zapp360-Sigma compilation started!" | indent

npm install -g bower grunt-cli gulp
sudo npm install -g bower grunt-cli gulp
sudo npm install -g generator-angular
npm install
bower install

sudo gem update --system
sudo gem install compass
sudo npm install -g grunt-contrib-compass
grunt build
grunt install
sudo npm install --save gifsicle
npm install grunt-contrib-imagemin

npm install
bower install
grunt build


sh $1/build-debug.sh